# RAM 角色 {#concept_vdb_fm2_bhb .concept}

ACM 支持阿里云访问控制 RAM 的账户体系。借助 RAM 角色，可实现访问其他云账户的 ACM 资源的目的。

## 云账户（主账户, Account） {#section_eyr_tcd_bhb .section}

云账户是阿里云资源归属、资源使用计量计费的基本主体。当用户开始使用阿里云服务时，首先需要注册一个云账户。云账户为其名下所拥有的资源付费，并对其名下所有资源拥有完全控制权限。

默认情况下，资源只能被属主（ResourceOwner）所访问，任何其他用户访问都需要获得属主的显式授权。所以从权限管理的角度来看，云账户就是操作系统的 root 或 Administrator，所以我们有时称它为根账户或主账户。

## RAM角色\(RAM Role\) {#section_krq_vcd_bhb .section}

RAM 角色不同于教科书式角色。RAM 角色是一种虚拟用户（或影子账号），它是 RAM 用户类型的一种。这种虚拟用户可以被赋予一组权限\(Policy\)，但它没有确定的身份凭证（登录密码或 AccessKey）。与普通 RAM 用户的差别主要在使用方法上，RAM 角色需要被一个授信的实体用户扮演，扮演成功后实体用户将获得 RAM 角色的临时安全令牌，使用这个临时安全令牌就能以角色身份访问被授权的资源。

-   **RAM-Role 的扮演与切换**：

-   从登录身份切换到角色身份（SwitchRole）：一个实体用户（例如 RAM-User）登录到控制台后，可以选择**角色切换**，前提是这个实体用户已经被关联了角色。每次只能切换进入某一种角色。当用户从登录身份 进入角色身份时，用户只能使用角色身份上所绑定的权限，而登录身份上绑定的权限会被屏蔽。如果需要使用登录身份的权限，那么需要从角色身份切换回到登录身份。
-   从实体身份通过程序调用方式扮演角色（AssumeRole）：如果一个实体用户（例如 RAM-User）关联了某个 RAM-Role，那么该用户可以使用访问密钥（AccessKey）来调用 STS 服务的 AssumeRole 接口来获得这个 RAM-Role 的一个临时访问密钥。临时访问密钥有过期时间和受限制的访问权限（不会超过该角色所绑定的权限集），通常用于解决临时授权问题。

## 关于 RAM 旧版和新版控制台 {#section_u3b_xx3_bhb .section}

RAM 控制台分为旧版和新版。切换版本的方法为：

-   在旧版控制台上，单击任意页面下方的**体验新版**，即可切换为新版控制台。
-   在新版控制台上，单击概览页面右上角的**切换旧版**，即可切换为旧版控制台。

## （旧版）创建 RAM 角色 {#sc_create_ram_role_old .section}

1.  登录 [RAM 控制台](https://ram.console.aliyun.com/#/overview)，在左侧导航栏中选择**角色管理**。
2.  在页面右上角单击**新建角色**。在创建角色对话框的**选择角色类型**子页面上按需选择。
    -   **用户角色**：受信云账户（当前云账户或其他云账户）下的 RAM 用户可以通过扮演用户角色来访问您的云资源。
    -   **服务角色**：受信云服务（例如 ECS 云服务器）可以通过扮演用户角色来访问您的云资源。
3.  根据上一步的选择执行相应操作：
    -   如果选择**用户角色**，则在**填写类型信息**子页面选择当前云账户，或者选择其他云账户并输入其账户 ID，并单击**下一步**。
    -   如果选择**服务角色**，则在**填写类型信息**子页面选择一种云服务。
4.  在**配置角色基本信息**子页面上输入**角色名称**，然后单击**创建**。
5.  如果**手机验证**对话框弹出，则单击**点击获取**，然后输入手机上收到的验证码。

## （新版）创建 RAM 角色 {#sc_create_ram_role .section}

1.  登录 [RAM 控制台](https://ram.console.aliyun.com/#/overview)，在左侧导航栏中选择 **RAM 角色管理**。
2.  在 RAM 角色管理页面上单击**新建 RAM 角色**。
3.  在**新建 RAM 角色**对话框中的执行以下操作并单击**确定**。
    1.  在 **RAM 角色类型**区域按需选择：
        -   **用户 RAM 角色**：受信云账户（当前云账户或其他云账户）下的 RAM 用户可以通过扮演用户角色来访问您的云资源。
        -   **服务 RAM 角色**：受信云服务（例如 ECS 云服务器）可以通过扮演用户角色来访问您的云资源。
    2.  根据上一步的选择执行相应操作：
        -   如果选择**用户 RAM 角色**，则在**选择云账号**区域选择**当前云账号**，或者选择**其他云账号**并在文本框内输入其账户ID。
        -   如果选择**服务 RAM 角色**，则在**选择受信服务**下拉框中选择一种云服务。
    3.  在 **RAM 角色名称**文本框内输入 RAM 角色名称。

## （旧版）为 RAM 角色授权 {#sc_auth_ram_role_old .section}

新创建的角色没有任何权限，因此需要为该角色授权。

1.  在创建角色对话框的**创建成功**子页面单击**授权**。如果此前已关闭创建角色对话框，则在角色管理页面单击新创建角色的名称，然后在左侧导航栏中选择**角色授权策略**。

    ![](https://aliware-images.oss-cn-hangzhou.aliyuncs.com/acms/db_ram_create_role_tab_create_success.png "创建角色对话框")

2.  在角色授权策略页面右上角单击**编辑授权策略**。
3.  在编辑角色授权策略对话框左侧的**可选授权策略名称**中找到 AliyunACMFullAccess 策略，并按中间的 **\>** 图标将其添加到**已选授权策略名称**中，然后单击**确定**。
    -   如果还使用到 ACM 的[加解密配置](intl.zh-CN/用户指南/创建和使用加密配置.md#)功能，则还需要为用户添加 **AliyunKMSCryptoAccess** 授权策略。
4.  如果**手机验证**对话框弹出，则单击**点击获取**，然后输入手机上收到的验证码。

**说明：** 此步骤将授予 ACM 的全部访问权限。如果希望授予单个命名空间的特定权限，请参考文末的“访问权限控制”。

## （新版）为 RAM 角色授权 {#sc_auth_ram_role .section}

新创建的角色没有任何权限，因此需要为该角色授权。

1.  登录 [RAM 控制台](https://ram.console.aliyun.com/)，在左侧导航栏中选择 **RAM 角色管理**。
2.  在 RAM 角色管理页面上单击目标角色**操作**列中的**添加权限**。

    ![](https://aliware-images.oss-cn-hangzhou.aliyuncs.com/common/ram_db_add_permission_for_user.png)

3.  在添加权限对话框左侧的**系统权限策略**中找到 AliyunACMFullAccess 策略，并单击该策略，然后单击**确定**。
    -   如果还使用到 ACM 的[加解密配置](intl.zh-CN/用户指南/创建和使用加密配置.md#)功能，则还需要为用户添加 **AliyunKMSCryptoAccess** 授权策略。

## （旧版）为 RAM 角色解除授权 {#sc_deauth_ram_role_old .section}

1.  登录 [RAM 控制台](https://ram.console.aliyun.com/)，在左侧导航栏中选择**角色管理**。
2.  在角色管理页面上单击目标角色**操作**列中的**授权**。
3.  在编辑角色授权策略对话框中，选择**已选授权策略名称**中的 **AliyunACMFullAccess**，并按中间的 **<** 图标将其移至左边的**可选授权策略名称**，然后单击**确定**。

授权解除后，RAM 用户无权登录 ACM。

## （新版）为 RAM 角色解除授权 {#sc_deauth_ram_role .section}

1.  登录 [RAM 控制台](https://ram.console.aliyun.com/)，在左侧导航栏中选择 **RAM 角色管理**。
2.  在 RAM 角色管理页面上单击目标角色的 **RAM 角色名称**。
3.  在 **RAM 角色授权策略**页签上的表格中，单击**操作**列中的**移除权限**。
4.  在移除权限对话框中单击**确认**。

授权解除后，RAM 用户无权登录 ACM。

## （旧版）删除 RAM 角色 {#sc_delete_ram_role_old .section}

1.  登录 [RAM 控制台](https://ram.console.aliyun.com/#/overview)，在左侧导航栏中选择**角色管理**。
2.  在角色管理页面上单击目标用户**操作**列中的**删除**。
3.  在删除角色对话框中单击**确定**。

## （新版）删除 RAM 角色 {#sc_delete_ram_role .section}

1.  登录 [RAM 控制台](https://ram.console.aliyun.com/)，在左侧导航栏中选择 **RAM 角色管理**。
2.  在 RAM 角色管理页面上单击目标角色**操作**列中的**删除 RAM 角色**。
3.  在删除 RAM 角色对话框中单击**确认**。

## 参考 {#section_pmb_mj2_bhb .section}

-   [ZH-CN\_TP\_134079.md\#](intl.zh-CN/.md#)
-   [ZH-CN\_TP\_15960.md\#](intl.zh-CN/访问控制/访问权限控制.md#)
-   [ZH-CN\_TP\_15959.md\#](intl.zh-CN/访问控制/子账号管理.md#)
-   [相关术语](../../intl.zh-CN/产品简介/相关术语.md#)

